"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if("onload"in XMLHttpRequest.prototype&&!navigator.standalone){var k=["standalone","fullscreen","minimal-ui"],S="#f8f9fa",_=24,x=128,I=48,C=32,e=navigator.userAgent||"",T=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&-1!==e.indexOf("Mobile/"),R=Boolean(e.match(/(MSIE |Edge\/|Trident\/)/)),A="undefined"!=typeof Windows;"complete"===document.readyState?t():window.addEventListener("load",t)}function t(){var e=document.head.querySelector('link[rel="manifest"]'),t=e?e.href:"";if(!t)throw'can\'t find <link rel="manifest" href=".." />\'';var n=function(n){for(var e=function(e){var t=n[e];try{return new URL("",t),{v:function(e){return new URL(e||"",t).toString()}}}catch(e){}},t=0;t<n.length;++t){var r=e(t);if("object"===_typeof(r))return r.v}return function(e){return e||""}}([t,window.location]),r=new XMLHttpRequest;r.open("GET",t),r.withCredentials="use-credentials"===e.getAttribute("crossorigin"),r.onload=function(){try{!function(m,r){var e=m.icons||[];e.sort(function(e,t){return parseInt(t.sizes,10)-parseInt(e.sizes,10)});var t=e.map(function(e){var t={rel:"icon",href:r(e.src),sizes:e.sizes};if(E("link",t),T){var n=parseInt(e.sizes,10);if(!(n<120))return t.rel="apple-touch-icon",E("link",t)}}).filter(Boolean);if(t.length){var n=t[t.length-1];n.removeAttribute("sizes")}var o=document.head.querySelector('meta[name="viewport"]'),a=o&&o.content||"",i=Boolean(a.match(/\bviewport-fit\s*=\s*cover\b/)),l=m.display,c=-1!==k.indexOf(l);if(L("mobile-web-app-capable",c),function(e,t){if(T||A){var n=O(e);if(T){var r=t?"black-translucent":n?"black":"default";L("apple-mobile-web-app-status-bar-style",r)}else{var o=function(){try{return Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar}catch(e){}}();if(!o)return;o.foregroundColor=M(n?"black":"white"),o.backgroundColor=M(e)}}}(m.theme_color||"black",i),R){L("application-name",m.short_name),L("msapplication-tooltip",m.description),L("msapplication-starturl",r(m.start_url||".")),L("msapplication-navbutton-color",m.theme_color);var u=e[0];u&&L("msapplication-TileImage",r(u.src)),L("msapplication-TileColor",m.background_color)}document.head.querySelector('[name="theme-color"]')||L("theme-color",m.theme_color);if(!T){var s=(f=m.orientation,{por:"portrait",lan:"landscape"}[String(f||"").substr(0,3)]||"");return L("x5-orientation",s),L("screen-orientation",s),"fullscreen"===l?(L("x5-fullscreen","true"),L("full-screen","yes")):c&&(L("x5-page-mode","app"),L("browsermode","application"))}var f;var v=O(m.background_color||S),d=(p=m.related_applications,(p||[]).filter(function(e){return"itunes"===e.platform}).forEach(function(e){if(e.id)h=e.id;else{var t=e.url.match(/id(\d+)/);t&&(h=t[1])}}),h);var p,h;function g(e,t,n){var r=e.width,o=e.height,a=window.devicePixelRatio,i=q({width:r*a,height:o*a});if(i.scale(a,a),i.fillStyle=m.background_color||S,i.fillRect(0,0,r,o),i.translate(r/2,(o-C)/2),n){var l=n.width/a,c=n.height/a;x<c&&(l/=c/x,c=x),I<=l&&I<=c&&(i.drawImage(n,l/-2,c/-2,l,c),i.translate(0,c/2+C))}i.fillStyle=v?"white":"black",i.font="".concat(_,"px HelveticaNeue-CondensedBold");var u=m.name||m.short_name||document.title,s=i.measureText(u).width;if(s<.8*r)i.fillText(u,s/-2,0);else for(var f=u.split(/\s+/g),d=1;d<=f.length;++d){var p=f.slice(0,d).join(" "),h=i.measureText(p).width;(d===f.length||.6*r<h)&&(i.fillText(p,h/-2,0),i.translate(0,1.2*_),f.splice(0,d),d=0)}return function(){var e=document.createElement("link");return e.setAttribute("rel","apple-touch-startup-image"),e.setAttribute("media","(orientation: ".concat(t,")")),e.setAttribute("href",i.canvas.toDataURL()),e}}function w(e){var t=g(window.screen,"portrait",e),n=g({width:window.screen.height,height:window.screen.width},"landscape",e);window.setTimeout(function(){document.head.appendChild(t()),window.setTimeout(function(){document.head.appendChild(n())},10)},10)}d&&L("apple-itunes-app","app-id=".concat(d)),L("apple-mobile-web-app-capable",c),L("apple-mobile-web-app-title",m.short_name||m.name);var b=t[0],y=new Image;if(y.crossOrigin="anonymous",y.onerror=function(){w()},!t.length)return y.onerror();y.onload=function(){if(w(y),m.background_color){var e=z(y,m.background_color);e&&(b.href=e,t.slice(1).forEach(function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=z(n,m.background_color,!0);t.href=e},n.src=t.href}))}},y.src=b.href}(JSON.parse(r.responseText),n)}catch(e){console.warn("pwacompat.js error",e)}},r.send(null)}function E(e,t){var n=document.createElement(e);for(var r in t)n.setAttribute(r,t[r]);return document.head.appendChild(n),n}function L(e,t){t&&(!0===t&&(t="yes"),E("meta",{name:e,content:t}))}function M(e){var t=r(e);return{r:t[0],g:t[1],b:t[2],a:t[3]}}function r(e){var t=q();return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data}function O(e){var t=r(e).map(function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),n=.2126*t[0]+.7152*t[1]+.0722*t[2];return 3<Math.abs(1.05/(n+.05))}function z(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=q(e);if((r.drawImage(e,0,0),!n)&&255==r.getImageData(0,0,1,1).data[3])return;return r.globalCompositeOperation="destination-over",r.fillStyle=t,r.fillRect(0,0,e.width,e.height),r.canvas.toDataURL()}function q(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},t=e.width,n=e.height,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d")}}();